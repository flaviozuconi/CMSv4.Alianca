function scrollToTop(n){window.parent&&(n?window.parent.$("body, html").animate({scrollTop:n},200):window.parent.$("body, html").animate({scrollTop:0},200))}function showExcluir(n){var t=$("#excluir"),i;t.hide();i=getAllValues('input[name="excluir"][type="checkbox"]:checked');i.length>0&&t.show();$(n).is(":checked")?$(n).parents("tr").addClass("selected"):$(n).parents("tr").removeClass("selected")}function getParameterByName(n,t){t||(t=window.location.href);n=n.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)"),i=r.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}function logAuditoria(n,t,i){var r={funcionalidade:n,codigo:t,pularPortal:i};return $.ajax({url:"/admin/auditoria",data:r,success:function(n){$("#logModal").empty();$("#logModal").html(n)},error:function(){}}),!1}function UrlAmigavel(n){var t=n.toLowerCase();return t=t.replace(/á/g,"a"),t=t.replace(/é/g,"e"),t=t.replace(/í/g,"i"),t=t.replace(/ó/g,"o"),t=t.replace(/ú/g,"u"),t=t.replace(/ã/g,"a"),t=t.replace(/õ/g,"o"),t=t.replace(/à/g,"a"),t=t.replace(/è/g,"e"),t=t.replace(/ì/g,"i"),t=t.replace(/ò/g,"o"),t=t.replace(/ù/g,"u"),t=t.replace(/â/g,"a"),t=t.replace(/ê/g,"e"),t=t.replace(/î/g,"i"),t=t.replace(/ô/g,"o"),t=t.replace(/û/g,"u"),t=t.replace(/ä/g,"a"),t=t.replace(/ë/g,"e"),t=t.replace(/ï/g,"i"),t=t.replace(/ö/g,"o"),t=t.replace(/ü/g,"u"),t=t.replace(/ç/g,"c"),t=t.replace(/[^a-zA-Z0-9-_\s]/g,""),t=t.replace(/_|\s/g,"-"),t=t.replace(/-{2,}/g,"-"),t=t.replace(/^-/g,""),t.replace(/-$/g,"")}function todos(n,t){n?$("."+n).prop("checked",!0):$("input[name*="+t+"][type=checkbox]").prop("checked",!0)}function nenhum(n,t){n?$("."+n).prop("checked",!1):$("input[name*="+t+"][type=checkbox]").prop("checked",!1)}function toDate(n){return n?new Date(n.replace(/(\d{2})\/(\d{2})\/(\d{4}) (\d{2}):(\d{2})/,"$2/$1/$3 $4:$5")):""}function removerMask(n){return n.indexOf("_")>-1?"":n}function executeFunctionByName(n,t){for(var u=Array.prototype.slice.call(arguments,2),i=n.split("."),f=i.pop(),r=0;r<i.length;r++)t=t[i[r]];return t[f].apply(t,u)}Date.parseDate=function(n,t){return moment(n,t).toDate()};Date.prototype.dateFormat=function(n){return moment(this).format(n)};$.validator.setDefaults({highlight:function(n){$(n).closest(".form-group").addClass("has-error")},unhighlight:function(n){$(n).closest(".form-group").removeClass("has-error")},errorElement:"span",errorClass:"help-block",onkeyup:function(n){var t=$(n).attr("name");if(this.settings.rules[t].onkeyup!==!1){if(event.which===9&&this.elementValue(n)==="")return;(n.name in this.submitted||n===this.lastElement)&&this.element(n)}}});$.validator.addMethod("regex",function(n,t,i){var r=new RegExp(i);return this.optional(t)||r.test(n)},$.validator.messages.remote);$.validator.addMethod("comparedata",function(n,t,i){var e=$("#"+i.elementcompare).val(),f=i.expr,r,u,o;if(n==""||(o="",e==""))return!0;if(r=moment(n,"DD/MM/YYYY HH:mm").toDate(),u=moment(e,"DD/MM/YYYY HH:mm").toDate(),f=="<")return r<u;if(f==">")return r>u;if(f=="<=")return r<=u;if(f==">=")return r>=u;o="teste2"},function(n){return n.msg});jQuery.validator.addMethod("greaterThan",function(n,t,i){var r=removerMask($(i).val());return(n=removerMask(n),n&&r)?(n=toDate(n),r=toDate(r),new Date(n)>=new Date(r)):!0},"Data de Término deve ser maior ou igual a Data de Início.");$.extend($.fn.dataTable.defaults,{dom:'<"top"fl><"table-toolbar">rt<"bottom"ip>',paging:!0,lengthMenu:[[10,20,50,100],[10,20,50,100]],pageLength:50,fnDrawCallback:function(){if($(".tooltip-idioma").length)try{$(".tooltip-idioma").tooltip()}catch(n){}scrollToTop()},footerCallback:function(){var n,t;$("#toolbar")&&$("#toolbar").appendTo("div.table-toolbar").show();$("#filter")&&$("#filter").appendTo("div.top").show();n=$("#excluir");n&&(t=getAllValues('input[name="excluir"][type="checkbox"]:checked'),t.length==0&&n.hide(),$('input[name="excluir"][type="checkbox"]').change(function(){showExcluir($(this))}))},stateSave:!1,serverSide:!0,language:{url:arquivotraducaodatatable},drawCallback:function(){$("#"+$(this).attr("id")).find("input[type=checkbox]").shiftcheckbox({onChange:function(){showExcluir($(this))}})}});$("table.table").on("xhr.dt",function(n,t,i){if($(this).data("default-before-render")!=!1){var r=$(this).prop("id"),u=r+"_aviso_sessao",f=$("#"+r).closest(".table-responsive");$("#"+u).remove();i.ExpirouSessao!=null&&i.ExpirouSessao==!0&&(f!=null&&f.length>0?$("#"+r).closest(".table-responsive").before("<div id='"+u+"' class='col-md-12 alert alert-warning'>"+i.Mensagem+"<\/div>"):alert(i.Mensagem));$("#spinner").fadeOut()}});$(function(){$("textarea[data-editor]").each(function(){var n=$(this),i=n.data("editor"),r=$("<div>",{position:"absolute",width:n.width(),height:n.height(),"class":n.attr("class")}).insertBefore(n),t;n.css("visibility","hidden");n.css("display","none");t=ace.edit(r[0]);t.setTheme("ace/theme/chrome");t.getSession().setMode("ace/mode/"+i);n.val()!="undefined"&&n.val().length>0&&t.getSession().setValue(n.val());t.on("blur",function(){n.val(escape(t.getSession().getValue()))});n.closest("form").submit(function(){n.val(escape(t.getSession().getValue()))})})});$(document).ready(function(){var n="/Content/js/plugins/ckeditor/plugins/fileman/Index?integration=ckeditor";$("textarea[data-ckeditor]").each(function(){var e=getParameterByName("sigla",document.getElementById("flexInternaJs").src),t=$(this),o=t.data("ckeditor"),r=$(this).attr("IsEscape"),u=t.data("plugins"),f=[],i;u!=null&&u!=""&&(f=u.split(","));i=t.ckeditor({language:e,height:t.height(),contentsCss:"/portal/"+o+"/content/css/editor_html.css",filebrowserBrowseUrl:n,filebrowserImageBrowseUrl:n,extraPlugins:"iframedialog,sourcedialog",allowedContent:!0,autoParagraph:!1,htmlEncodeOutput:!1,entities:!1,tabSpaces:6,toolbar:[{name:"mode",items:["Sourcedialog"]},{name:"clipboard",groups:["clipboard","undo"],items:["Cut","Copy","Paste","PasteText","PasteFromWord","Undo","Redo"]},{name:"insert",items:["CreatePlaceholder","Image","Table","HorizontalRule","Smiley","SpecialChar","Iframe"]},{name:"links",items:["Link","Unlink","Anchor"]},{name:"basicstyles",groups:["basicstyles","cleanup"],items:["Bold","Italic","Underline","Strike","Subscript","Superscript","RemoveFormat"]},{name:"paragraph",groups:["list","indent","blocks","align"],items:["NumberedList","BulletedList","Outdent","Indent","Blockquote","CreateDiv","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"]},"/",{name:"styles",items:["Styles","Format","Font","FontSize"]},{name:"colors",items:["TextColor","BGColor"]},{name:"tools",items:["UIColor","Maximize","ShowBlocks"]},{name:"plugins",items:f}]});i.editor.config.font_names="DINOT/dinot;"+i.editor.config.font_names;i.editor.config.skin="moono-lisa";r==null&&r=="true";r=="true"&&t.closest("form").submit(function(){$(this).valid()&&t.val(escape(t.val()))})})});try{CKEDITOR.disableAutoInline=!0;CKEDITOR.on("instanceReady",function(n){var u=n.editor,i,r,t;for(u.filter.allowedContent=!0,i=["div","h1","h2","h3","h4","h5","h6","p","pre","ul","li","table","td","tr","blockquote","a","span"],r={indent:!0,breakBeforeOpen:!0,breakAfterOpen:!0,breakBeforeClose:!0,breakAfterClose:!0},t=0;t<i.length;t++)n.editor.dataProcessor.writer.setRules(i[t],r)});CKEDITOR.on("dialogDefinition",function(n){var u=n.data.name,t=n.data.definition,r=t.onShow,i;t.onShow=function(){r!=null&&r.call(this,arguments);this.move(this.getPosition().x,window.parent.$(window.parent.document).scrollTop())};u=="sourcedialog"&&(i=$(t.dialog.parts.contents),i.attr("class",i.attr("class")+" codigo-fonte"))})}catch(e){}$(function(){function n(){var n=$(this),t=n.find(".modal-dialog");n.css("display","block");t.css("margin-top",Math.max(0,$(window.parent.document).scrollTop()))}$(document).on("show.bs.modal",".modal",n)});